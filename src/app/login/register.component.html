<section id="wrapper" class="login-register login-sidebar"  style="background-image:url(../assets/images/background/login-register.jpg);">
  <div class="login-box card">
    <div class="card-body">
      <form class="form-horizontal form-material" id="loginform" #form="ngForm">
        <img src="../assets/images/logo-icon.png" alt="Home" /><br/><img src="../assets/images/logo-text.png" alt="Home" /> 
        <h3 class="box-title m-t-40 m-b-0">Registro</h3><small>Create your account and enjoy</small> 
        <div class="form-row">
            <div class="form-group col-md-7 has-danger">
                  <input [(ngModel)]="user.name" name="name" #name="ngModel" required minlength="3"
                        class="form-control" type="text"placeholder="Nombre" autofocus >
                  <div class="form-control-feedback" *ngIf="name.invalid && (name.dirty || name.touched)">Ingrese un nombre.</div>
            </div>
            <div class="form-group col-md-5 has-danger">
                  <input [(ngModel)]="user.surname" name="surname" #surname="ngModel" minlength="3" required
                         class="form-control" type="text" placeholder="Apellido">
                  <div class="form-control-feedback" *ngIf="surname.invalid && (surname.dirty || surname.touched)">Ingrese un apellido.</div>
            </div>
        </div>
        <div class="form-group has-danger">
            <input [(ngModel)]="user.email" name="email" #email="ngModel" minlength="6" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
            class="form-control" type="email" required placeholder="Email">
            <div class="form-control-feedback" *ngIf="email.invalid && (email.dirty || email.touched)">Ingrese un Email valido!</div>
            <!-- <div class="form-group">
              <label class="form-control-label" for="error">Error State with Feedback</label>
              <input type="text" class="form-control form-control-danger" id="error"> -->
            <!-- </div> -->
        </div>
        <div class="form-row">
            <div class="form-group col-md-9 has-danger">
                  <input [(ngModel)]="user.dir" name="dir" #dir="ngModel"
                        class="form-control" type="text" required placeholder="Direccion">
                  <div class="form-control-feedback" *ngIf="dir.invalid && (dir.dirty || dir.touched)">Ingrese una dirección.</div>
            </div>
            <div class="form-group col-md-3 has-danger">
                  <input [(ngModel)]="user.dir_num" name="dir_num" #dirNum="ngModel" 
                  class="form-control" type="number" required placeholder="Numero">
                  <div class="form-control-feedback" *ngIf="dirNum.invalid && (dirNum.dirty || dirNum.touched)">N°</div>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6 has-danger">
                  <input [(ngModel)]="user.dni" name="dni" #dni="ngModel" required pattern="(?=.*\d).{7,}"
                         class="form-control" type="number" placeholder="DNI">
                  <div class="form-control-feedback" *ngIf="dni.invalid && (dni.dirty || dni.touched)">*DNI válido obligatorio</div>
            </div>
            <div class="form-group col-md-6 has-danger">
                  <input [(ngModel)]="user.smartphone" name="smartphone" #smartphone="ngModel" pattern="(?=.*\d).{8,}"
                  class="form-control" required type="text" placeholder="Celular">
                  <div class="form-control-feedback" *ngIf="smartphone.invalid && (smartphone.dirty || smartphone.touched)">Teléfono obligatorio</div>
            </div>
        </div>
        <div class="form-row has-danger">
            <div class="form-group col-md-6 col-xs-12">
                  <input [(ngModel)]="user.password" name="password" #password="ngModel" type="password" minlength="4"
                    class="form-control" required placeholder="Contraseña"> 
                    <!-- pattern="(?=.*\d)(?=.*[a-z]).{2,}" -->
                  
            </div>
            <div class="form-group col-md-6 col-xs-12">
                  <input class="form-control" [(ngModel)]="password2" name="password2"  #passwordTwo="ngModel" type="password" required placeholder="Confirmar Contraseña">
              </div>
              <div class="form-control-feedback" *ngIf="password.invalid && (password.dirty || password.touched)">Contraseña obligatoria</div>
              <div class="form-control-feedback" *ngIf="password.value != passwordTwo.value && (password.dirty || password.touched || passwordTwo.dirty || passwordTwo.touched)">
                Contraseñas no coinciden. 
              </div>
            </div>
        
        <div class="form-group">
          <div class="">
            <div class="checkbox checkbox-primary p-t-0">
              <input id="checkbox-signup" (ngModel)="terminos"  name="terminos" type="checkbox" required>
              <label for="checkbox-signup"> Acepto los <a href="#">Terminos</a> de uso.</label>
            </div>
          </div>
        </div>
        <div class="form-group text-center m-t-20">
          <div class="col-xs-12">
            <button (click)="registrar()" [disabled]="!form.valid || user.password !== password2"
            class="btn btn-info btn-lg btn-block text-uppercase waves-effect waves-light" type="submit">Registrar</button>
          </div>
        </div>
        <div class="form-group m-b-0">
          <div class="col-sm-12 text-center">
            Ya tienes cuenta? <a routerLink="/login" class="text-info m-l-5"><b>Ingresar</b></a>
          </div>
        </div>
        <span *ngFor="let err of error2" class="text-danger capitalize">
          <p>{{ err }}</p>
        </span>
      </form>
    </div>
  </div>
</section>